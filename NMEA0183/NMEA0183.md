###### tags: `webdoc`

# NMEA 0183

[ToC]

Standard for Interfacing Marine Electronic Devices

---

## ABK - AIS Addressed and Binary Broadcast Acknowledgement

The ABK-sentence is generated when a transaction, initiated by reception of an ABM, AIR, or BBM sentence, is completed or terminated. This sentence provides information about the success or failure of a requested ABM broadcast of either ITU-R M.1371 messages 6 or 12. The ABK process utilizes the information received in ITU-R M.1371 messages 7 and 13. Upon reception of either a VHF Data-link message 7 or 13, or the failure of messages 6 or 12, the AIS unit delivers the ABK sentence to the external application. This sentence is also used to report to the external application the AIS unit's handling of the AIR (M.1371 message 15) and BBM (M.1371 messages 8, 14) sentences. The external application initiates an interrogation through the use of the AIR-sentence, or a broadcast through the use of the BBM sentence. The AIS unit generates an ABK sentence to report the outcome of the AIR or BBM broadcast process.

```text
$--ABK,xxxxxxxxx,a,x.x,x,x*hh<CR><LF>
```

|Field|Type|Name|Note|
| -- | -- | -- | -- |
| 0 | `!--ABK` | | |
| 1 | `xxxxxxxxx` | MMSI of the addressed AIS unit| Identifies the distant addressed AIS unit involved with the acknowledgement. If more than one MMSI are being addressed (M.1371 message 15), the MMSI of the first distant AIS unit, identified in the message, is the MMSI reported here. This is a null field when the ITU-R M.1371 message type is 8 or 14.|
| 2 | `a` | AIS channel of reception| Indication of the VHF Data Link channel upon which a message type 7 or 13 acknowledgement was received. An "A" indicates reception on channel A. A "B" indicates reception on channel B.|
| 3 | `x.x` |  ITU-R M.1371 Message ID | This indicates to the external application the type of ITU-R M.1371 message that this ABK sentence is addressing. Also see the Message IDs listed in Note 4.|
| 4 | `x` | Message sequence number | The Message sequence number, together with the Message ID and MMSI of the addressed AIS unit, uniquely identifies a previously received ABM, AIR, or BBM sentence. Generation of an ABK-sentence makes a sequential message identifier available for reuse. The Message ID determines the source of the Message sequence number. Table 25 lists the source by Message ID:|
| 5 | `x` | Type of acknowledgement | Acknowledgements provided are:<br/>0 = message (6 or 12) successfully received by the addressed AIS unit,<br/>1 = message (6 or 12) was broadcast, but no acknowledgement by the addressed AIS unit,<br/>2 = message could not be broadcast (i.e. quantity of encapsulated data exceeds five slots),<br/>3 = requested broadcast of message (8, 14, or 15) has been successfully completed,<br/>4 = late reception of a message 7 or 13 acknowledgement that was addressed to this AIS unit (own-ship) and referenced a valid transaction.|
| 6 | `hh` | checksum||

| ITU-R M.1371<br/>Message ID | Message Sequence Number Source|
| :--: | -- |
| 6 | sequential message identifier from ABM-sentence|
| 7 | addressed AIS unit's message 7, sequence number, ITU-RM.1371
| 8 | sequential message identifier fromBBM-sentence |
| 12 | sequential message identifier from ABM-sentence |
| 13 | addressed AIS unit's message 13, sequence number, ITU-R M.1371 |
| 14 | sequential message identifier fromBBM-sentence|
| 15 | No source, the Message sequence number shall be a null field|
| 25 | Sequential message identifier from ABMor BBM sentence |
| 26 | Sequential message identifier from ABMor BBM sentence |

## ABM - AIS Addressed Binary and Safety Related Message

This sentence supports [ITU-R M.1371](#m1371) messages 6, 12, 25 and 26 and provides an external application with a means to exchange data via an AIS transponder. Data is defined by the application only, not the AIS unit. This sentence offers great flexibility for implementing system functions that use the transponder like a communications device. After receiving this sentence via the NMEA 0183 interface, the transponder initiates a VDL broadcast of message 6, 12, 25, or 26. The AIS unit will make up to four broadcasts of message 6 and 12. The actual number will depend on the reception of an acknowledgement from the addressed "destination" AIS unit. The success or failure of reception of this transmission by the addressed AIS unit for messages 6 and 12 is confirmed through the use of the "Addressed Binary and safety related message Acknowledgement" ABK sentence formatter, and the processes that supports the generation of an ABK sentence. The AIS transponder determines the appropriate communications state for transmission of message 26 over the VHF data Link.

```text
!--ABM,x,x,x,xxxxxxxxx,x,xx,s--s,x*hh<CR><LF>
```

|Field|Type|Name|Note|
|-|-|-|-|
|0|`!--ABM`|||
|1|`x`|Total number of sentences needed to transfer the message, 1 ~ 9|The total number of sentences required to transfer the binary message data to the AIS unit.<br>* The first field specifies the total number of sentences used for a message, minimum value 1.<br>* The second field identifies the order of this sentence in the message, minimum value 1.<br>* All sentences contain the same number of fields. Successive sentences may use null fields for fields that have not changed, such as fields 4, 5, and 6.|
|2|`x`|Sentence number, 1 ~ 9| see above|
|3|`x`|Sequential message identifier, 0 ~ 3|This sequential message identifier serves two purposes. It meets the requirements as stated in Section 5.3.4 of this standard, and it is the sequence number utilized by ITU-R M.1371 in message types 6 and 12. The range of this field is restricted by ITU-R M1371 to 0 - 3. The sequential message identifier value may be reused after the AIS unit provides the "ABK" acknowledgement for this number. (See ABK Sentence).|
|4|`xxxxxxxxx`|The MMSI of the destination AIS unit for the ITU-R M.1371 message|The MMSI of the AIS unit that is the destination of the message.|
|5|`x`|AIS channel for broadcast of the radio message|The AIS channel that shall be used for the broadcast:<br>0 = no broadcast channel preference,<br>1 = Broadcast on AIS channel A,<br>2 = Broadcast on AIS channel B,<br>3 = Broadcast message on both AIS channels A and B.|
|6|`xx`|ITU-R M.1371 message Id|The ITU-R M.1371 message Id for the following addressed messages:<br>6 = Binary addressed message,<br>12 = Addressed safety related message,<br>25 = Single slot binary message 25 (binary data coded using the 16-bit Application identifier),<br>70 = Single slot binary message 25 (unstructured binary data),<br>26 = Multiple slot binary message 26 with Communications State (binary data coded using the 16-bit Application identifier),<br>71 = Multiple slot binary message 26 with Communications State (unstructured binary data).|
|7|`x--x`|Encapsulated data|This is the content of the "binary data" parameter for ITU-R M.1371 message 6, or the "Safety related Text" parameter for message 12, or the "binary data" parameter for message 25, or the "binary data" parameter for message 26. The first sentence may contain up to 48 valid Six Bit codes (288 bits). Following sentences may contain up to 60 valid Six Bit codes (360 bits), if fields 4, 5, and 6 are unchanged from the first sentence and set to null. The actual number of valid characters must be such that the total number of characters in a sentence does not exceed the “82-character” limit.|
|8|`x`|number of fill-bits|This cannot be a null field.|
|9|`hh`|checksum||

## ACF - General AtoN Station Configuration Command

This sentence and the ACG sentence are used to configure Message 21 content for Real, Synthetic, and Virtual AIS AtoN Stations.
Content of message 21 is determined by the AIS AtoN station as configured by the ACG and ACF sentences and other processes monitoring the status of the AtoN (See [IEC 62320-2](#iec_62320_2).).
This sentence can be queried.

```text
$--ACF,xxxxxxxxx,x,llll.llll,a,yyyyy.yyyy,a,x,xxxx,xxxx,xxxx,xxxx,x,xx,x,a*hh<CR><LF>
```

|Field|Type|Name|Note|
|-|-|-|-|
|0|`$--ACF`|||
|1|`xxxxxxxxx`|MMSI|This sentence should be accepted only if the MMSI matches a previously input MMSI (See [AID](#AID) sentence)|
|2|`x`|Type of EPFS|Identifies the source of the position, see [ITU-R M.1371](#m1371) Message 21 parameter (Type of electronic position fixing device)|
|3,4|`llll.llll,a`|Charted Latitude – N/S|Charted position (See [IALA A.126](#iala_a126)). If EPFS is “7 (surveyed),” this parameter is the broadcast position. Otherwise the EPFS position is broadcast.|
|5,6|`yyyyyy.yyyy,a`|Charted Longitude – E/W| see above|
|7|`x`|Position accuracy|0 = low > 10m.<br>1 = high < 10m; differential mode of DGNSS.|
|8|`xxxx`|Rx channel A|VHF channel number, see ITU-R M.1084. Default values, Rx channel A = 2087 (simplex on AIS1), Tx channel A = 2087 (simplex on AIS1), Rx channel B = 2088 (simplex on AIS2), and Tx channel B = 2088 (simplex on AIS2)|
|9|`xxxx`|Rx channel B|See above|
|10|`xxxx`|Tx channel A|See above|
|11|`xxxx`|Tx channel B|See above|
|12|`x`|Power level|0 = default manufacturer power level (nominally 12,5 Watts)<br>1 to 9 as defined by the manufacturer|
|13|`xx`|Type of AtoN|See ITU-R M.1371,Message 21, “Type of aids-to-navigation” parameter:<br>0 = Type of AtoN not specified (default)<br>1 to 31 = Type as defined in ITU-R M.1371, Message 21, Table 71 (“The nature and type of AtoN can be indicated with 32 different codes”)|
|14|`x`|Virtual flag|See ITU-R M.1371,Message 21, "Virtual AtoN flag" parameter and "Repeat indicator" parameter<br> 0 = Set "Virtual AtoN flag" to "0" and “Repeat indicator" parameter to "0," for a real AtoN at the indicated position. This is the default value.<br>1 = Set Virtual AtoN flag to "1," for a Virtual AtoN at the indicated position.<br>2 = Set Virtual AtoN flag to "0" and Repeat indicator parameter to value other than "0," for a Synthetic AtoN at the indicated position.|
|15|`a`|Sentence status flag|This field is used to indicate a sentence that is a status report of current settings or a configuration command changing settings. This field should not be null.<br>R = Sentence is a status report of current settings (use for a reply to a query).<br>C = Sentence is a configuration command to change settings. A sentence without "C" is not a command.|
|16|`hh`|checksum||

## ACG - General AtoN Station Configuration Command

This sentence and the ACF sentence are used to configure the AtoN Station parameters when it is initially installed, and later in order to make changes to the way it operates. This sentence supports system administration of the AIS AtoN Station operation.<br>This sentence can be queried.

```text
$--ACG,xxxxxxxxx,hh,xxxx,x,x,x,c--c,xxxxxxxxxx,a*hh<CR><LF>
```

|Field|Type|Name|Note|
|-----|----|----|----|
|0|`$--ACG`|||
|1|`xxxxxxxxx`|MMSI of the AtoN Station|This sentence should be accepted only if the MMSI matches a previously input MMSI (See AID sentence)|
|2|`hh`|AtoN status bits|AtoN Status Bits, Indication of the AtoN Status, default ""00 hex": For a Virtual AtoN this field should be 00 hex. The three most significant bits represent the Page ID. (See [IEC 62320-2](#iec_62320_2), Annex C, Message 21 – AtoN status bits)|
|3|`xxxx`|Off-position threshold|Off-position indicator is generated when this threshold is exceeded (distance in meters) - (See [IEC 62320-2](#iec_62320_2), Off-position monitoring)|
|4|`x`|Acknowledgment procedure|Determines behavior of AtoN for message acknowledgement (replying using Message 7 and 13).<br>0 = will provide acknowledgement as defined by manufacturer (If an acknowledgement procedure is implemented, it is enabled.).<br>1 = will not provide acknowledgement (If an acknowledgement procedure is implemented, it is disabled.).|
|5|`x`|Off-position behavior|Off-position behavior:<br>0 = Maintain current transmission schedule (use message ID Index 0)<br>1 = Use transmission schedule configured by CBR using, affected MMSI, message ID 21, message ID index 1. When the transmission schedule for Index 1 has not been configured, the off-position maintains the message ID Index 0 schedule.|
|6|`x`|Synch lost behavior|Synch lost behavior (UTC source lost):<br>0 = Silent (no transmissions)<br>1 = Continue operation|
|7|`c--c`|Name of AtoN|Name of the AtoN: maximum 34 characters|
|8|`xxxxxxxxxx`|Dimensions|Reference point of reported position; Should be given as dimension (aaabbbccdd) of the buoy (see [ITU-R M.1371](#m1371),Message 21)|
|9|`a`|Sentence status flag|This field is used to indicate a sentence that is a status report of current settings or a configuration command changing settings. This field should not be null.<br>R = Sentence is a status report of current settings (use for a reply to a query).<br>C = Sentence is a configuration command to change settings. A sentence without "C" is not a command.|
|10|`hh`|checksum||

## AID - AtoN Identification Configuration Command

This sentence is used to load, for an AtoN Station, its Real, Virtual or synthetic, and chained (parent or child) MMSI(s). The Real MMSI from the factory should be as defined by manufacturer. Each AtoN Station will maintain a table of its MMSI(s). (Reference IEC 62320-2)
For an AIS AtoN Station, this sentence must input a MMSI prior to configuring the parameters for the MMSI (See: [CBR](#CBR), [ACG](#ACG), [ACF](#ACF), AFB, DCR, CEK, COP, MCR, MEB, and TPC sentences).
This sentence can be queried. When queried, the query response will continue until all known AtoN MMSIs and types have been transferred.

```text
$--AID,c--c,x,xxxxxxxxx,a,a*hh<CR><LF>
```

|Field|Type|Name|Note|
|---|---|---|---|
|0|`$--AID`|||
|1|`c--c`|Unique Identifier of AtoN Station|Unique Identifier of the AtoN Station. The Unique Identifier is used for system level identification of a station, 15 characters maximum. On input, this sentence should be accepted only if this data field matches the AtoN Station’s Unique Identifier. On output, this data field is the AtoN Station’s Unique Identifier. (To address an AtoN station, this should be the Real MMSI of the AIS AtoN Station being addressed. The initial factory setting of the Real MMSI should be defined by manufacturer, for example 990000000.|
|2|`x`|Create or delete MMSI|0 = delete MMSI provided in field 3;<br>1 = add MMSI provided in field 3<br>If the Real MMSI is deleted, the AIS AtoN Station’s Real MMSI should revert to the factory setting. When a MMSI is deleted, all associated messages and transmission schedules for that MMSI should be deleted.|
|3|`xxxxxxxxx`|MMSI|MMSI to be added or deleted.|
|4|`a`|Virtual, Real, or chained|Real AtoN, chained, or Virtual AtoN: Real AtoN is own station (AIS AtoN Station may have one Real MMSI). Chained indicates an MMSI that this station is responsible for relaying messages to and from. Virtual AtoN indicates an MMSI that this station is responsible for generating at least a Message 21.<br>R = Real AtoN<br>V = Virtual or Synthetic AtoN<br>P = Parent AtoN Station that is a member of a chain<br>C = Child AtoN Station that is a member of a in the chain<br>M = Maintenance|
|5|`a`|Sentence status flag|This field is used to indicate a sentence that is a status report of current settings or a configuration command changing settings. This field should not be null.<br>R = Sentence is a status report of current settings (use for a reply to a query).<br>C = Sentence is a configuration command to change settings. A sentence without "C" is not a command.|
|6|`hh`|checksum||

## ALR - Set Alarm State

Local alarm condition and status. This sentence is used to report an alarm condition on a device and its current state of acknowledgment.

```text
$--ALR,hhmmss.ss,xxx,A,A,c--c*hh<CR><LF>
```

|Field|Type|Name|Note|
|-----|----|----|----|
|0    |`$--ALR`|||
|1|`hhmmss.ss`|Time of alarm condition change, UTC||
|2|`xxx`|Unique alarm number (identifier) at alarm source||
|3|`A`|Alarm condition|A = threshold exceeded<br>V = not exceeded|
|4|`A`|Alarm’s acknowledge state|A = acknowledged<br>V = unacknowledged|
|5|`c--c`|Alarm’s description text||

## BBM - AIS Broadcast Binary Message

This sentence supports generation of ITU-R M.1371 binary messages 8, 14, 25, and 26. This provides the application with a means to broadcast data, as defined by the application only. Data is defined by the application only not the AIS. This sentence offers great flexibility for implementing system functions that use the transponder like a digital broadcast device. After receiving this sentence via the NMEA 0183 interface, the transponder initiates a VHF broadcast of message 8, 14, 25, or 26 within four seconds. See the ABK sentence for acknowledgement of the BBM with messages 8 and 14. The AIS transponder determines the appropriate communications state for transmission of message 26 over the VHF data Link.

```text
!--BBM,x,x,x,x,xx,s--s,x*hh<CR><LF>
```

|Field|Type|Name|Note|
|-----|----|----|----|
|0|`!--BBM`|||
|1|`x`|Total number of sentences needed to transfer the message, 1 to 9|The total number of sentences required to transfer the contents of the binary message to the AIS unit.<br>* The first field specifies the total number of sentences used for a message, minimum value 1.<br>* The second field identifies the order of this sentence in the message, minimum value 1.<br>* All sentences contain the same number of fields. Successive sentences may use null fields for fields that have not changed, such as fields 4 and 5.|
|2|`x`|Sentence number, 1 ~ 9| See above|
|3|`x`|Sequential Message identifier 2, 0 to 9|The Sequential message identifier provides a message identification number from 0 to 9 that is sequentially assigned and is incremented for each new multi-sentence message. The count resets to 0 after 9 is used. For a message requiring multiple sentences, each sentence of the message contains the same sequential message identification number. It is used to identify the sentences containing portions of the same message. This allows for the possibility that other sentences might be interleaved with the message sentences that, taken collectively, contain a single message. This value is used by the ABK sentence to acknowledge a specific BBM sentence.|
|4|`x`|AIS channel for broadcast of the radio message|The AIS channel that shall be used for the broadcast:<br>0 = no broadcast channel preference,<br>1 = Broadcast on AIS channel A,<br>2 = Broadcast on AIS channel B,<br>3 = Broadcast the message on both AIS channels A and B.|
|5|`xx`|ITU-R M.1371 message Id|The ITU-R M.1371 message Id for the following broadcast messages:<br>8 = Binary broadcast message,<br>14 = Safety related broadcast message,<br>25 = Single slot binary message 25 (binary data coded using the 16-bit Application identifier),<br>70 = Single slot binary message 25 (unstructured binary data),<br>26 = Multiple slot binary message 26 with Communications State (binary data coded using the 16-bit Application identifier),<br>71 = Multiple slot binary message 26 with Communications State (unstructured binary data).|
|6|`s--s`|Encapsulated data|This is the content of the "binary data" parameter for ITU-R M.1371 messages 8, or the "Safety related Text" parameter for message 14, or the “binary data” parameter for message 25, or the “binary data” parameter for message 26. The first sentence may contain up to 58 valid Six Bit codes (348 bits). Following sentences may contain up to 60 valid Six Bit codes (360 bits), if fields 4 and 5 are unchanged from the first sentence and set to null. The actual number of characters must be such that the total number of characters in a sentence does not exceed the "82-character" limit.|
|7|`x`|Number of fill-bits, 0 to 5|This cannot be a null field|
|8|`hh`|checksum||

## CBR - Configure Broadcast Rates for AIS AtoN Station Message Command

This sentence configures slots and transmission intervals that will be used to broadcast AIS AtoN Station messages (See IEC 62320-2). The sentence supports scheduling of messages with real, virtual, and synthetic MMSI’s (See AID Sentence). The messages are assigned to the AIS AtoN Station for each channel.\
Message 21 is defined by the content of the ACG and ACF sentences and is identified by the MMSI and the message ID 21. Message ID Index = 0 is reserved to define the on-position message 21 transmission schedule. Message ID Index = 1 is reserved to define the off-position message 21 transmission schedule. The off-position schedule is optional (see ACG sentence, Off-position behavior).
Other than message 21, the combination of MMSI, Message ID, and Message ID Index are used to:\
(1) configure,\
(2) reference the AIS AtoN stations transmission slots, and\
(3) link to the MEB sentence. Each message’s transmission schedule is defined by the combination of Start UTC Hour, Start UTC Minute, Start Slot, and Slot Interval.\
The AIS AtoN Station should apply this sentence to autonomously and continuously transmit VDL messages until revised by a subsequent CBR sentence. Subsequent CBR assignments override existing CBR assignments.\
This sentence can be queried. The query response may contain one or more sentences and will continue until the transfer of all current schedule information is complete.

```text
$--CBR,xxxxxxxxx,xx,x,xx,xx,xxxx,x.x,x,xx,xx,xxxx,x.x,a*hh<CR><LF>
```

|Field|Type|Name|Note|
|-----|----|----|----|
|0|`$--CBR`||
|1|`xxxxxxxxx`|MMSI|This is a MMSI previously defined for the AIS AtoN station (See AID Sentence.).|
|2|`xx`|Message ID|Message ID is the number of the message being scheduled (See ITU-R M.1371). When Message ID is 0 this indicates that the slots being defined will be used for either chaining messages or MEB single transmissions (See [IEC 62320-2](#iec_62320_2)).|
|3|`x`|Message ID Index|Message ID Index is used to distinguish multiple occurrences of the same MMSI and Message ID combination. Valid range is 0 to 7.|
|4|`xx`|Start UTC hour, channel A|Nominal start slot for each channel is determined by the combination of Start UTC hour, Start UTC minute, and Start slot.|
|5|`xx`|Start UTC minute, channel A| see above|
|6|`xxxx`|Start slot, channel A|Starting slot valid range is -1 to 2249.<br>* A value of –1 clears the schedule and discontinues the broadcasts for the indicated channel(s).<br>For FATDMA, a null field indicates no change to the current start slot setting when set to the AtoN Station.<br>For RATDMA, start slot defines the first slot of the RATDMA selection interval.<br>For RATDMA, a null field indicates that the selection interval randomly selected within the frame. In response to a query this field cannot be null.<br>* In response to a query, a value of -1 indicates that the message is not scheduled for broadcast on the indicated channel.<br>The query response for the start slot selection interval when in RATDMA mode does not distinguish between a previous commanded value or a random chosen value.<br>* The current start slot of the selection interval (the value as specified by a previous CBR command sentence).<br>* The current start slot of the selection interval (the value chosen randomly by the AIS device as specified by a previous CBR command sentence).|
|7|`x.x`|Slot interval, channel A|Message transmission slot interval, valid range is -1 to 3 240 000 slots (24*60*2250 = 3 240 000 is once per day). When configuring a AtoN Station with an RATDMA/CSTDMA schedule the valid range is: 0 to (24*60*60) slots. A null field indicates no change to the current slot interval setting when sent to the AtoN Station. In response to a query this field cannot be null, -1 indicates that the slot interval is not set.|
|8|`x`|FATDMA or RATDMA/CSTDMA setup|Used to select whether the CBR is configuring a FATDMA schedule or RATDMA/CSTDMA schedule (0 indicates FATDMA, 1 indicates RATDMA, and 2 indicates CSTDMA). For RATDMA/CSTDMA modes, the Slot Interval is the time between the start slots of the Selection Intervals.|
|9|`xx`|Start UTC hour, channel A|Nominal start slot for each channel is determined by the combination of Start UTC hour, Start UTC minute, and Start slot.|
|10|`xx`|Start UTC minute, channel B| see above|
|11|`xxxx`|Start slot, channel B|Starting slot valid range is -1 to 2249.<br>* A value of –1 clears the schedule and discontinues the broadcasts for the indicated channel(s).<br>For FATDMA, a null field indicates no change to the current start slot setting when set to the AtoN Station.<br>For RATDMA, start slot defines the first slot of the RATDMA selection interval.<br>For RATDMA, a null field indicates that the selection interval randomly selected within the frame. In response to a query this field cannot be null.<br>* In response to a query, a value of -1 indicates that the message is not scheduled for broadcast on the indicated channel.<br>The query response for the start slot selection interval when in RATDMA mode does not distinguish between a previous commanded value or a random chosen value.<br>* The current start slot of the selection interval (the value as specified by a previous CBR command sentence).<br>* The current start slot of the selection interval (the value chosen randomly by the AIS device as specified by a previous CBR command sentence).|
|12|`x.x`|Slot interval, channel B|Message transmission slot interval, valid range is -1 to 3 240 000 slots (24*60*2250 = 3 240 000 is once per day). When configuring a AtoN Station with an RATDMA/CSTDMA schedule the valid range is: 0 to (24*60*60) slots. A null field indicates no change to the current slot interval setting when sent to the AtoN Station. In response to a query this field cannot be null, -1 indicates that the slot interval is not set.|
|13|`x`|Sentence Status Flag|This field is used to indicate a sentence that is a status report of current settings or a configuration command changing settings. This field should not be null.<br>R = Sentence is a status report of current settings (use for a reply to a query).<br>C = Sentence is a configuration command to change settings. A sentence without "C" is not a command.|
|14|`hh`|checksum||

## CEK - Configure Encryption Key Command

This sentence configures the key that will be used by a device to implement encryption.
This sentence provides a mechanism for the entry of a key, but it does not provide security for the key.
This sentence can be queried.

```text
$--CEK,x,x,x,c--c,h--h,a*hh<CR><LF>
```

| Field| Type| Name| Note|
|-----|----|----|----|
| 0| `$--CEK`| |
| 1| `x`| Total number of sentences, 1-9|An encryption key may exceed the size of a single sentence, resulting in the transmission of multiple sentences to convey the complete encryption key message.<br> * The first field specifies the total number of sentences, minimum value 1.<br> * The second field identifies the order of this sentence (sentence number), minimum value 1.<br>The “Sentence Number” field may be null when there is only one sentences per message, as when the "Total number of sentences" field is set to a value of 1.|
| 2| `x`| Sentence number, 1-9|An encryption key may exceed the size of a single sentence, resulting in the transmission of multiple sentences to convey the complete encryption key message.<br> * The first field specifies the total number of sentences, minimum value 1.<br> * The second field identifies the order of this sentence (sentence number), minimum value 1.<br>The “Sentence Number” field may be null when there is only one sentences per message, as when the "Total number of sentences" field is set to a value of 1.|
| 3| `x`| Sequential message identifier, 0-9| The sequential message identifier is a number, 0 to 9, used to identify different messages. This field may be null when there is only one sentence per message, as when the "Total number of sentences" is set to a value of 1.|
| 4| `c--c`| Unique Identifier| The Unique Identifier is used for system level identification of a station, 15 characters maximum (see the AID sentence formatter). For AIS AtoN equipment, on input, this sentence should be accepted only if this data field matches the AtoN Station’s Unique Identifier, while on output, this data field is the AtoN Station’s Unique Identifier.<br>For AIS AtoN Stations this is the Real MMSI of the AIS AtoN Station being addressed. This sentence should be accepted only if this field matches the Real MMSI of the AIS AtoN Station.|
| 5| `h--h`| New AES encryption key| The AES encryption key is in hexadecimal format. The actual number of “hex” symbols in a sentence must be adjusted so that the total number of characters in a sentence does not exceed the "82-character" limit. If the sentence exceeds the "82-character" limit, the key will be split across multiple sentences.|
| 6| `a`| Sentence status flag| This field is used to indicate a sentence that is a status report of current settings or a configuration command changing settings. This field should not be null.<br>R = Sentence is a status report of current settings (use for a reply to a query).<br>C = Sentence is a configuration command to change settings. A sentence without "C" is not a command.|
| 7|`hh`|checksum||

## MEB - Message Input for Broadcast, Command

This sentence is used to input a message for storage or immediate broadcast. The sentence associates messages with real, virtual, and synthetic MMSI’s (See AID sentence).\
The stored message is associated by the MMSI, Message ID, and Message ID Index. The combination of MMSI, Message ID, and Message ID Index are used to reference the stored message and link the message to a transmission schedule as defined by a CBR sentence. The stored message’s broadcast begins when both the message content and schedule (See CBR sentence) have been entered.\
For immediate message broadcast, the binary data will be broadcast using the slots reserved by the CBR sentence with both Message ID and Message ID Index = 0, or will be broadcast using the next available slot. The channel for the immediate message broadcast is specified by the “AIS channel for broadcast of the radio message” (parameter field 4).\
This sentence can be queried. When queried, the query response may contain one or more sentences and will continue until the transfer of all stored information is complete.

```text
!--MEB,x,x,x,x,xxxxxxxxx,xx,x,x,xxxxxxxxx,x,a,s--s,x*hh<CR><LF>
```

|Field|Type|Name|Note|
|-----|----|----|----|
|0|`!--MEB`|||
|1|`x`|Total number of sentences needed to transfer the message, 1 to 9|The total number of sentences required to transfer the binary message data to the AIS unit. The first field specifies the total number of sentences used for a message, minimum value 1. The second field identifies the order of this sentence in the message, minimum value 1. All sentences contain the same number of fields. Successive sentences may use null fields for fields that have not changed, such as fields 4, 5, 6, 7, 8, 9, and 10.|
|2|`x`|Sentence number, 1 to 9| See above|
|3|`x`|Sequential message identifier, 0 to 3|This sequential message identifier serves two purposes. It meets the requirements as stated in Section 5.3.4 and it is the sequence number utilized by ITU-R M.1371 in message types 6 and 12. The range of this field is restricted by ITU-R M1371 to 0 - 3. The sequential message identifier value may be reused after the AIS unit provides the "ABK" acknowledgement for this number. (See ABK Sentence).|
|4|`x`|AIS channel for broadcast of the radio message|The AIS channel that should be used for the broadcast:<br>0 = no broadcast channel preference, -<br>1 = broadcast on AIS channel A,<br>2 = broadcast on AIS channel B,<br>3 = broadcast message on both AIS channels A and B,<br>For an immediate message broadcast, this cannot be null. For a stored message it should be null.|
|5|`xxxxxxxxx`|MMSI|For the message to be broadcast, this MMSI must match a previously entered a real, virtual, or synthetic MMSI (See AID and CBR Sentences)|
|6|`xx`|ITU-R M.1371 message Id|ITU-R M.1371 messages supported by this sentence: 6, 8, 12, 14, 25, and 26. See IEC 62320-2 for the ITU-R M.1371 messages that are supported by an AIS AtoN Station.|
|7|`x`|Message ID Index||
|8|`x`|Broadcast behavior|Broadcast behavior values:<br>0 = For an AtoN device, the message is stored in volatile memory for autonomous continuous transmission as defined by a CBR sentence. The message is identified by the combination of MMSI, Message ID, and Message ID Index.<br>1 = For an AtoN device, a single transmission (not stored in the “message table”) using the next available slot following slot selection priority:<br><p>* If a MEB is received for a given MMSI, Message ID, and Message ID Index and the MMSI, Message ID, and Message ID Index, already has a broadcast schedule then that schedule is used to send the new message.<br>* If a MEB is received for a given MMSI, Message ID, and Message ID Index and the MMSI, Message ID, and Message ID Index, does not have a broadcast schedule, then the message is transmitted using the next available slot using the following priority scheme.<br><p>* Use CBR definition,Message ID = 0, Message ID Index = 0 (if available)<br>* Use RATDMA if supported by the AtoN unit</p></p><br>2 = for continuous transmission in non-volatile memory<br>3 = delete the stored message (this includes volatile and non- volatile)<br>4 – 9 = reserved for future use|
|9|`xxxxxxxxx`|Destination MMSI, for addressed messages|The “Destination MMSI, for Addressed Messages” should be a null field when the message is not destination specific, and is intended to be destination broadcast on the VHF Data Link.|
|10|`x`|Binary data flag|The “Binary data flag” field has a range from 0 to 1 with the following meaning:<br>0 = unstructured binary data (no Application Identifier bits used)<br>1 = binary data coded as defined by using the 16-bit Application Identifier (See ITU-R M.1371, messages 25 and 26)|
|11|`a`|Sentence status flag|This field is used to indicate a sentence that is a status report of current settings or a configuration command changing settings. This field should not be null.<br>R = Sentence is a status report of current settings (use for a reply to a query).<br>C = Sentence is a configuration command to change settings. A sentence without “C” is not a command.|
|12|`s--s`|Encapsulated data|This is the content of the “binary data” parameter for either ITU-R M.1371 MESSAGE 6, 8, 25, or 26, or the “Safety related Text” parameter for either message 12 or 14. The actual number of “6-bit” symbols in a sentence must be adjusted so that the total number of characters in a sentence does not exceed the “82- character” limit.|
|13|`x`|Number of fill-bits, 0 to 5|This cannot be a null field|
|14|`hh`|checksum||

---

## NAK - Negative Acknowledgement

In general, the NAK sentence is used when a reply to a query sentence cannot be provided, or when a command sentence is not accepted.
The NAK sentence reply should be generated within one (1) second.
A NAK can be used with or without a TAG Block. When the TAG Block feature is active, the NAK should use a TAG Block when appropriate . The NAK sentence is not used to report an "error" in the TAG Block portion of a "line".
Use of NAK should be specified by the equipment standard.
This sentence cannot be queried.

```text
$--NAK,cc,ccc,c--c,x.x,c--c*hh<CR><LF>
```

|Field|Type|Name|Note|
|-----|----|----|----|
| 0|`$--NAK`|||
| 1|`cc`| Talker Identifier| Talker identifier from the sentence formatter that caused the NAK generation. This field should not be null.|
| 2|`ccc`| Affected sentence formatter| Affected sentence formatter is either:<br>* The "approved sentence formatter of data" being requested in a query that cannot be processed or accepted, or<br>* The sentence formatter of the control or configuration sentence that cannot be processed or accepted.<br>This field should not be null.|
| 3|`c--c`| Unique Identifier| The Unique Identifier is used for system level identification of a device, 15 characters maximum. This is the Unique Identifier for the device producing the NAK sentence, when available. (See the SID sentence).
| 4|`x.x`| Reason code for negative acknowledgement|Reason codes:<br>0 = Query functionality not supported<br>1 = Sentence formatter not supported<br>2 = Sentence formatter supported, but not enabled<br>3 = Sentence formatter supported and enabled, but temporarily unavailable (e.g. data field problem, unit in initialize state, or in diagnostic state, etc.)<br>4 = Sentence formatter supported, but query for this sentence formatter is not supported.<br>5 = Access denied, for sentence formatter requested<br>6 = Sentence not accepted due to bad checksum<br>7 = Sentence not accepted due to listener processing issue<br>8 to 9: reserved for future use<br>10 = Cannot perform the requested operation.<br>11 = Cannot fulfill request or command because of a problem with a data field in the sentence.<br>12 to 48: reserved for future use<br>49 = other reason as described in data field 5.<br> Values greater than 50 may be defined by equipment standards.<br>This field should not be null.|
| 5|`c--c`| Negative acknowledgement’s descriptive text| The length of this field is constrained by the maximum sentence length. This field may be null.|
|11|`hh`| checksum ||

---

## VER - Version

This sentence is used to provide identification and version information about a device. This sentence is produced as a reply to a query sentence.<br>
In order to meet the 79-character requirement, a “multi-sentence message” may be needed to convey all the Data Fields.<br>
For an AIS Base Station the VER sentence shall be output autonomously upon power-up. For other equipment the VER sentence may be output autonomously upon power-up.

```text
$--VER,x,x,aa,c--c,c--c,c--c,c--c,c--c,c--c,x*hh<CR><LF>
```

|Field|Type|Name|Note|
|-----|----|----|----|
|0|`$--VER`|||
|1|`x`|Total number of sentences needed, 1 to 9|Depending on the number of characters in each Data Field, it may be necessary to use a "multi-sentence message" to convey a "VER reply."<br>* The first Data Field specifies the total number of sentences needed, minimum value 1. This is the total number of sentences required to transmit the  nformation.<br>* The second Data Field identifies the sentence number, minimum value 1.<br>Sentence number refers to the sequence number of the sentence within the total number of sentences. The tenth Data Field provides the sequential message identifier.|
|2|`x`|Sentence number, 1 to 9|see above|
|3|`aa`|Device type|The device type is used to identify the manufactured purpose of the device. Choice of the device type identifier is based upon the designed purpose of the device. It is set into the equipment based upon the primary design of the device and remains constant even if the user defined talker identifier feature is used (See BCG Sentence). For AIS device types.|
|4|`c--c`|Vendor ID|Vendor identification (Example: either the NMEA 0183, 3-character "Manufacturer's Mnemonic Code" or NMEA 2000, 5-digit "NumericManufacturer's Code", 5 characters maximum.).|
|5|`c--c`|Unique Identifier|The Unique Identifier is used for system level identification of a device, 15 characters maximum. When used with AIS stations, on output, this data field is the AIS Station’s Unique Identifier (See the SID sentence). When an MMSI is used as the Unique Identifier, it should be the MMSI of the station (for example, the “Real MMSI” of an AtoN station)|
|6|`c--c`|Manufacturer serial number|The manufacturer's serial number for the unit. Note, this "internal" manufacturer's serial number may or may not match the physical serial number of the device. Maximum length 32 characters.|
|7|`c--c`|Model code (product code)|The data field length may be 32 characters maximum. The length of 32 characters was chosen in order to be consistent with similar data field lengths in the NMEA 0183 standard. When large character lengths are used and the 80 character sentence limit would be exceeded for a single sentence, a series of successive VER sentences should be used to avoid the problem (using Data Fields 1, 2, and 10 to ensure the multiple VER sentences are properly associated by the listener). Though null fields can be used for data fields contained in other sentences of the series, the Unique Identifier field should always contain the same value in every sentence of the series.|
|8|`c--c`|Software revision|see above|
|9|`c--c`|Hardware revision|see above|
|10|`x`|Sequential message identifier|The sequential message identifier provides a message identification number from 0 to 9 that is sequentially assigned and is incremented for each new multi-sentence message. The count resets to 0 after 9 is used. For a message requiring multiple sentences, each sentence of the message contains the same sequential message identification number. It is used to identify the sentences containing portions of the same message. This allows for the possibility that other sentences might be interleaved with the message sentences that, taken collectively, contain a single message. This Data Field may be a null field for messages that fit into one sentence.|
|11|`hh`| checksum ||

## VDM - AIS VHF Data-link Message

This sentence is used to transfer the entire contents of a received AIS message packet, as defined in ITU-R M.1371 and as received on the VHF Data Link (VDL), using the "Six Bit" field type. The structure
provides for the transfer of long binary messages by using multiple sentences.

```text
!--VDM,x,x,x,a,s--s,x*hh<CR><LF>
```

|Field|Type|Name|Note|
|-----|----|----|----|
| 0| `!--VDM`| ||
| 1| `x`| Total number of sentences needed to transfer the message, 1 to 9| The length of an ITU-R M.1371 message may require the transmission of multiple sentences.<br>* The first field specifies the total number of sentences used for a message, minimum value 1.<br>* The second field identifies the order of this sentence in the message, minimum value 1.<br>These cannot be null fields.|
| 2| `x`| Sentence number, 1 to 9| The length of an ITU-R M.1371 message may require the transmission of multiple sentences.<br>* The first field specifies the total number of sentences used for a message, minimum value 1.<br>* The second field identifies the order of this sentence in the message, minimum value 1.<br>These cannot be null fields.|
| 3| `x`| Sequential message identifier, 0 to 9| The Sequential message identifier provides a message identification number from 0 to 9 that is sequentially assigned and is incremented for each new multi-sentence message. The count resets to 0 after 9 is used. For a message requiring multiple sentences, each sentence of the message contains the same sequential message identification number. It is used to identify the sentences containing portions of the same message. This allows for the possibility that other sentences might be interleaved with the message sentences that, taken collectively,contain a single message. This may be a null field for messages that fit into one sentence.|
| 4| `a`| AIS Channel| The AIS channel is indicated as either A or B. This channel indication is relative to the operating conditions of the transponder when the packet is received. This shall be a null field when the channel identification is not provided. The frequencies for channels A and B are obtained by a query of the AIS unit for an ACA sentence(s).|
| 5| `s--s`| Encapsulated ITU-R M.1371 radio message| This field supports a maximum of 60 valid characters for messages transferred using multiple sentences, and 62 valid characters for messages using a single sentence.|
| 6| `x`| Number of fill-bits, 0 to 5| This cannot be a null field. |
| 7 | `hh` | Checksum | |

## VDO - AIS VHF Data-Link Own-Vessel Report

This sentence is used to transfer the entire contents of an AIS unit's broadcast message packet, as defined in ITU-R M.1371 and as sent out by the AIS unit over the VHF Data Link (VDL), using the "Six Bit" field type. The structure provides for the transfer of long binary messages by using multiple sentences. The sentence uses the same structure as the VDM sentence formatter.

```text
!--VDO,x,x,x,a,s--s,x*hh<CR><LF>
```

|Field|Type|Name|Note|
|-----|----|----|----|
| 0| `!--VDO`| ||
| 1| `x`| Total number of sentences needed to transfer the message, 1 to 9| The length of an ITU-R M.1371 message may require the transmission of multiple sentences.<br>* The first field specifies the total number of sentences used for a message, minimum value 1.<br>* The second field identifies the order of this sentence in the message, minimum value 1.<br>These cannot be null fields.|
| 2| `x`| Sentence number, 1 to 9| The length of an ITU-R M.1371 message may require the transmission of multiple sentences.<br>* The first field specifies the total number of sentences used for a message, minimum value 1.<br>* The second field identifies the order of this sentence in the message, minimum value 1.<br>These cannot be null fields.|
| 3| `x`| Sequential message identifier, 0 to 9| The Sequential message identifier provides a message identification number from 0 to 9 that is sequentially assigned and is incremented for each new multi-sentence message. The count resets to 0 after 9 is used. For a message requiring multiple sentences, each sentence of the message contains the same sequential message identification number. It is used to identify the sentences containing portions of the same message. This allows for the possibility that other sentences might be interleaved with the message sentences that, taken collectively,contain a single message. This may be a null field for messages that fit into one sentence.|
| 4| `a`| AIS Channel| The AIS channel is indicated as either A or B. This channel indication is relative to the operating conditions of the transponder when the packet is received. This shall be a null field when the channel identification is not provided. The frequencies for channels A and B are obtained by a query of the AIS unit for an ACA sentence(s).|
| 5| `s--s`| Encapsulated ITU-R M.1371 radio message| This field supports a maximum of 60 valid characters for messages transferred using multiple sentences, and 62 valid characters for messages using a single sentence.|
| 6| `x`| Number of fill-bits, 0 to 5| This cannot be a null field. |
| 7 | `hh`| Checksum| |

## VSI - VDL Signal Information

This sentence provides measurement information associated with a VDL message. This sentence is also used to identify the first slot of a VDL message. This sentence is only used in combination with either a VDM or VDO sentence. This sentence should follow the referenced VDM or VDO sentence.
The measurement data fields of this sentence are enabled using the SPO sentence.
This sentence cannot be queried.

```text
$--VSI,c--c,x,hhmmss.ss,x.x,x.x,x.x*hh<CR><LF>
```

|Field|Type|Name|Note|
| -- | -- | -- | -- |
| 0 | `$--VSI` | | |
| 1 | `c--c` | Unique Identifier | The Unique Identifier is used for system level identification of a station, 15 characters maximum. (See SID Sentence). On output, this data field is the Base Station’s Unique Identifier.|
| 2 | `x` | VDM/VDO link | This field is used to link the information in either an associated VDM or VDO sentence(s) with the information in this sentence. This data field contains the same value as the sequential message identifier of the associated VDM or VDO sentence(s). (For details concerning proper use, see IEC 62320-1.) |
| 3 | `hhmmss.ss`| TOA, time of message arrival | This is the UTC hour, minute, and second and decimal fraction of second measurement for when an AIS message signal is received. When the decimal fraction portion of this measurement is provided, the precision may be given to 1 ns. 246060 = requested data field but not available|
| 4 | `x.x` | First slot number of VDL message| 9999 = requested data field but not available|
| 5 | `x.x` | Signal strength (dBm.) of received VDL message| 0 = requested data field but not available|
| 7 | `x.x` | Signal to noise ratio (dB) | 0 = requested data field but not available|
| 8 | `hh` | Checksum| |

## Reference

* <a id="m1371"></a>ITU-R M.1371: Technical characteristics for an automatic identification system using time-division multiple access in the VHF maritime mobile band.
[https://www.itu.int/rec/R-REC-M.1371/en](https://www.itu.int/rec/R-REC-M.1371/en)

* <a id="nmea0183"></a>NMEA-0183: Standard for Interfacing Marine Electronic Devices
[https://www.nmea.org/content/STANDARDS/NMEA_0183_Standard](https://www.nmea.org/content/STANDARDS/NMEA_0183_Standard)

* <a id="iec_62320_2"></a>IEC 62320-2 2016: Maritime navigation and radiocommunication equipment and systems - Automatic identification system (AIS) - Part 2: AIS AtoN Stations - Operational and performance requirements, methods of testing and required test results.
[https://webstore.iec.ch/publication/26132](https://webstore.iec.ch/publication/26132)

* <a id="iala_a126"></a>IALA A-126: The Use of the Automatic Identification System (AIS) in Marine Aids to Navigation Services.
[https://www.iala-aism.org/product/use-of-the-ais-in-marine-aids-to-navigation-service-126/](https://www.iala-aism.org/product/use-of-the-ais-in-marine-aids-to-navigation-service-126/)
